<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>Lamobo R1 - linux-sunxi.org</title>
<meta charset="UTF-8"/>
<meta name="generator" content="MediaWiki 1.20.8"/>
<link rel="shortcut icon" href="/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="linux-sunxi.org (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="//linux-sunxi.org/api.php?action=rsd"/>
<link rel="copyright" href="http://creativecommons.org/licenses/by/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="linux-sunxi.org Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<link rel="stylesheet" href="//linux-sunxi.org/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=vector&amp;*"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="//linux-sunxi.org/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*"/>
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}</style>
<script src="//linux-sunxi.org/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Lamobo_R1","wgTitle":"Lamobo R1","wgCurRevisionId":17736,"wgArticleId":1897,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["NDH TODO","Devices","A20 Boards","Devices with HDMI port","Devices with SATA port","Devices with Ethernet port","Mainline U-Boot","Mainline Kernel"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Lamobo_R1","wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"templateEditor":false,"templates":false,"preview":true,"previewDialog":false,"publish":false,"toc":false},"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":0,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,
"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});
/* cache key: sunxi-mw:resourceloader:filter:minify-js:7:7946f03af3782603db0ba9e475496170 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
<link rel="canonical" href="http://linux-sunxi.org/Lamobo_R1"/>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Lamobo_R1 skin-vector action-view vector-animateLayout">
<div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
 
<div id="content" class="mw-body">
<a id="top"></a>
<div id="mw-js-message" style="display:none;"></div>
 
<h1 id="firstHeading" class="firstHeading"><span dir="auto">Lamobo R1</span></h1>
 
 
<div id="bodyContent">
 
<div id="siteSub">From linux-sunxi.org</div>
 
 
<div id="contentSub"></div>
 
 
<div id="jump-to-nav" class="mw-jump">
Jump to: <a href="#mw-head">navigation</a>, <a href="#p-search">search</a>
</div>
 
 
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table class="infobox" cellspacing="5" style="width:22em;">
<tr><th colspan="2" class="" style="text-align:center; font-size:125%; font-weight:bold; background: #dedede;">Lamobo R1</th></tr>
<tr class=""><td colspan="2" class="" style="text-align:center;">
<a href="/File:BPi-R1-top_250px.jpg" class="image"><img alt="BPi-R1-top 250px.jpg" src="/images/b/b9/BPi-R1-top_250px.jpg" width="250" height="184"/></a></td></tr><tr class=""><th scope="row" style="text-align:left;">Manufacturer</th><td class="" style="">
<a rel="nofollow" class="external text" href="http://www.lamobo.com">Lamobo</a></td></tr><tr class=""><th scope="row" style="text-align:left;">Dimensions</th><td class="" style="">
148<i>mm</i> x 100<i>mm</i> x 18<i>mm</i></td></tr><tr class=""><th scope="row" style="text-align:left;">Release Date</th><td class="" style="">
November 2014</td></tr><tr class=""><th scope="row" style="text-align:left;">Website</th><td class="" style="">
<a rel="nofollow" class="external text" href="http://lamobo.com/lamobor.html">Lamobo R1</a> <a rel="nofollow" class="external text" href="http://www.bananapi.com/product/detail_3.html">BPi-R1</a></td></tr><tr><th colspan="2" class="" style="text-align:center; background: #dedede;">Specifications</th></tr><tr class=""><th scope="row" style="text-align:left;">SoC</th><td class="" style="">
<a href="/A20" title="A20">A20</a> @ 1Ghz</td></tr><tr class=""><th scope="row" style="text-align:left;">DRAM</th><td class="" style="">
1GiB DDR3 @ 432MHz</td></tr><tr class=""><th scope="row" style="text-align:left;">NAND</th><td class="" style="">
no nand available</td></tr><tr class=""><th scope="row" style="text-align:left;">Power</th><td class="" style="">
DC 5V @ 2A (micro-USB), JST XH 2.5mm header as Battery connector</td></tr><tr><th colspan="2" class="" style="text-align:center; background: #dedede;">Features</th></tr><tr class=""><th scope="row" style="text-align:left;">Video</th><td class="" style="">
HDMI (Type A - full)</td></tr><tr class=""><th scope="row" style="text-align:left;">Audio</th><td class="" style="">
3.5mm headphone plug, HDMI, internal microphone</td></tr><tr class=""><th scope="row" style="text-align:left;">Network</th><td class="" style="">
10/100/1000Mbps Ethernet, <a href="/Ethernet#Phyceivers" title="Ethernet">Broadcom BCM53125</a> switch with 5 external GB-Ports; WiFi 802.11 b/g/n (<a href="/Wifi#Realtek" title="Wifi">Realtek RTL8192CU</a> connected internally via USB2.0, two Hirose U.FL connectors for WiFi antennas)</td></tr><tr class=""><th scope="row" style="text-align:left;">Storage</th><td class="" style="">
µSD, SATA</td></tr><tr class=""><th scope="row" style="text-align:left;">USB</th><td class="" style="">
1 USB2.0 Host, 1 µUSB2.0 OTG</td></tr>
<tr class=""><th scope="row" style="text-align:left;">Other</th><td class="" style="">
IrDA</td></tr>
</table>
<p><span style="color:#ba0000">This page needs to be properly filled according to the <a href="/New_Device_howto" title="New Device howto">New Device Howto</a> and the <a href="/New_Device_page" title="New Device page">New Device Page guide</a>.</span>
</p><p>This board shares the majority of hardware with the original <a href="/Banana_Pi" title="Banana Pi" class="mw-redirect">Banana Pi</a>. Main exceptions: A different board layout allows directly attaching a 2.5" disk (unlike other SATA capable Bananas here powered through the <a href="/AXP209" title="AXP209">AXP209 PMU</a>), a VLAN-capable <a href="/Ethernet#Phyceivers" title="Ethernet">Broadcom BCM53125</a> switch interconnecting SoC and the 5 GBit Ethernet ports and onboard 802.11 b/g/n Wi-Fi. Since the Lamobo R1 features exactly the same 26 pin GPIO connector as Banana Pi and the ported WiringPi library also works here all hardware Add-Ons utilising GPIO will also work.
</p><p>Due to SATA and the GPIO stuff it makes not only a nice home automation hub or a NAS but with its on-board VLAN-capable switch, this should make a nice router board as well behind a firewall (see <a href="#Security_Implications"><i>security implications</i></a> below).
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Identification"><span class="tocnumber">1</span> <span class="toctext">Identification</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Sunxi_support"><span class="tocnumber">2</span> <span class="toctext">Sunxi support</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Current_status"><span class="tocnumber">2.1</span> <span class="toctext">Current status</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Images"><span class="tocnumber">2.2</span> <span class="toctext">Images</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#HW-Pack"><span class="tocnumber">2.3</span> <span class="toctext">HW-Pack</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#BSP"><span class="tocnumber">2.4</span> <span class="toctext">BSP</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Manual_build"><span class="tocnumber">2.5</span> <span class="toctext">Manual build</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Mainline_U-Boot"><span class="tocnumber">2.6</span> <span class="toctext">Mainline U-Boot</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Mainline_kernel"><span class="tocnumber">2.7</span> <span class="toctext">Mainline kernel</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Tips.2C_Tricks.2C_Caveats"><span class="tocnumber">3</span> <span class="toctext">Tips, Tricks, Caveats</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#FEL_mode"><span class="tocnumber">3.1</span> <span class="toctext">FEL mode</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Current_drawbacks"><span class="tocnumber">3.2</span> <span class="toctext">Current drawbacks</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#Powering_the_board"><span class="tocnumber">3.2.1</span> <span class="toctext">Powering the board</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Network_performance"><span class="tocnumber">3.2.2</span> <span class="toctext">Network performance</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Available_enclosures_and_thermal_issues"><span class="tocnumber">3.2.3</span> <span class="toctext">Available enclosures and thermal issues</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Security_Implications"><span class="tocnumber">3.2.4</span> <span class="toctext">Security Implications</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#GPIO_header"><span class="tocnumber">3.3</span> <span class="toctext">GPIO header</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Locating_the_UART"><span class="tocnumber">3.4</span> <span class="toctext">Locating the UART</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#Pictures"><span class="tocnumber">4</span> <span class="toctext">Pictures</span></a></li>
<li class="toclevel-1 tocsection-20"><a href="#Also_known_as"><span class="tocnumber">5</span> <span class="toctext">Also known as</span></a></li>
<li class="toclevel-1 tocsection-21"><a href="#See_also"><span class="tocnumber">6</span> <span class="toctext">See also</span></a>
<ul>
<li class="toclevel-2 tocsection-22"><a href="#Manufacturer_images"><span class="tocnumber">6.1</span> <span class="toctext">Manufacturer images</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="Identification"> Identification </span></h1>
<p>The Device is also marketed as Banana Pi Router or BPi-R1.
</p><p>The PCB has the following silkscreened on it:
</p>
<pre>Lamobo R1-SD_V3</pre>
<p>In android, under Settings-&gt;About Tablet, you will find:
</p>
<ul><li> Model Number: <i><span style="color:#ba0000">DEVICE</span></i>
</li><li> Build Number: <i><span style="color:#ba0000">SOC_BOARD_DEVICE_*.*</span></i>
</li></ul>
<h1> <span class="mw-headline" id="Sunxi_support"> Sunxi support </span></h1>
<h2> <span class="mw-headline" id="Current_status"> Current status </span></h2>
<p>No support in sunxi 3.4.
</p><p>OpenWrt support using kernel 3.18 is currently awaiting upstream. Gigabit Ethernet needs some tickling from U-Boot to properly setup the TX clock delay, the on-board switch works nicely with OpenWrt's b53-mdio driver but there seem to be performance issues when data is transferred between CPU and the outside (traffic bridged by the BCM53125 between switch ports is not affected).
The rtl8192cu mac80211 WiFi driver seems to be buggy/not work well with hostapd, however, client and ad-hoc mode works just fine.
</p><p>Apart from the on-board switch, the board is very similar to the Banana Pi (M1) - thus any OS capable of running on the Banana Pi should work on the R1 as well.
</p>
<h2> <span class="mw-headline" id="Images"> Images </span></h2>
<p>Every image the manufacturer provided so far is broken more or less. These three community projects provide 'ready to run' OS images for the R1 containing .dts/fex files and patches to get the switch working:
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.armbian.com/lamobo-r1/">Armbian</a> also supporting mainline kernel for the R1 over half a year and providing a customizable build system
</li></ul>
<ul><li><a rel="nofollow" class="external text" href="https://www.bananian.org/hardware#bpi-r1_router">Bananian</a> started to support mainline kernel also recently. Status unknown regarding R1
</li></ul>
<ul><li><a rel="nofollow" class="external text" href="https://gitlab.com/db260179/openwrt-bpi-r1">David Bentham's OpenWRT Chaos Calmer fork</a> claims to have resolved the GMAC speed issues partially
</li></ul>
<h2> <span class="mw-headline" id="HW-Pack"> HW-Pack </span></h2>
<h2> <span class="mw-headline" id="BSP"> BSP </span></h2>
<h2> <span class="mw-headline" id="Manual_build"> Manual build </span></h2>
<ul><li> Armbian's working <a href="/Fex_Guide" title="Fex Guide"> .fex</a> file for kernel 3.4 including <a rel="nofollow" class="external text" href="http://www.bananapi.com/index.php/forum/general/391-why-the-sata-disk-doesnt-work-on-bpi-r1?start=12#1308">fixed SATA power definition</a> is now officially included <a class="external autonumber" href="https://github.com/linux-sunxi/sunxi-boards/blob/master/sys_config/a20/lamobo-r1.fex">[1]</a>
</li><li> For building u-boot it is recommended to rely on u-boot 2015.4 or above and use the <i>Lamobo_R1_defconfig</i> target. As long as it's not included in mainline u-boot you find a patch here <a class="external autonumber" href="https://github.com/igorpecovnik/lib/blob/next/patch/add-lamobo-r1-uboot.patch">[2]</a>
</li></ul>
<p>To get older kernels booted by recent u-boot versions you have to apply this hack to u-boot sources:
</p>
<pre>echo -e &quot;CONFIG_ARMV7_BOOT_SEC_DEFAULT=y\nCONFIG_OLD_SUNXI_KERNEL_COMPAT=y&quot; &gt;&gt; .config
echo -e &quot;CONFIG_ARMV7_BOOT_SEC_DEFAULT=y\nCONFIG_OLD_SUNXI_KERNEL_COMPAT=y&quot; &gt;&gt; spl/.config</pre>
<p>Everything else is the same as the <a href="/Manual_build_howto" title="Manual build howto">manual build howto</a>.
</p>
<h2> <span class="mw-headline" id="Mainline_U-Boot"> Mainline U-Boot </span></h2>
<p>For <a href="/Mainline_U-boot#Compile_U-Boot" title="Mainline U-boot" class="mw-redirect"> building mainline u-boot</a>, use the <i>Lamobo_R1_defconfig</i> target. As long as it's not included in mainline u-boot you find a working version including correct CONFIG_GMAC_TX_DELAY and SATA power config here <a class="external autonumber" href="https://github.com/igorpecovnik/lib/blob/next/patch/add-lamobo-r1-uboot.patch">[3]</a>
</p>
<h2> <span class="mw-headline" id="Mainline_kernel"> Mainline kernel </span></h2>
<p>Use the <i>sun7i-a20-lamobo-r1.dts</i> device-tree file for the <a href="/Mainline_Kernel_Howto" title="Mainline Kernel Howto">mainline kernel</a>. As long as it's not included in mainline you can find it here <a class="external autonumber" href="https://github.com/igorpecovnik/lib/blob/next/patch/sun7i-a20-lamobo-r1.dts">[4]</a>
</p><p>To make the switch working, apply the patches from <a class="external autonumber" href="https://github.com/Dh0mp5eur/BCM53125-Mainline-Patches">[5]</a>. For 4.0 or above better use these patches including a more recent version of the driver from here <a class="external autonumber" href="https://github.com/igorpecovnik/lib/blob/next/patch/bananapi-r1-4.x.patch">[6]</a> (some stuff has to be deleted before as outlined in <a class="external autonumber" href="https://github.com/igorpecovnik/lib/blob/next/patching.sh">[7]</a>
</p><p>A working .config for kernel 3.19.5 can be found at <a rel="nofollow" class="external autonumber" href="http://bildschirmtext.org/stuff/bananapi-r1-linux-3.19.5.config">[8]</a>. Since this config doesn't contain CONFIG_FHANDLE=y (necessary for systemd) and some other tweaks another alternative is <a class="external autonumber" href="https://github.com/igorpecovnik/lib/blob/next/config/linux-sunxi-next.config">[9]</a> (ready for 4.0 and above)
</p>
<h1> <span class="mw-headline" id="Tips.2C_Tricks.2C_Caveats"> Tips, Tricks, Caveats </span></h1>
<h2> <span class="mw-headline" id="FEL_mode"> FEL mode </span></h2>
<p>There seems to be no button to enter <a href="/FEL" title="FEL"> FEL mode</a>. If no SD card is present, the A20 will automatically fall back to FEL mode (as this device has no other means of booting, like e.g. onboard NAND flash). So if you want to enforce FEL mode, you may simply remove the SD card and connect to the Lamobo R1 via the OTG micro USB (the one next to the USB type A port). This also supplies power to the board at the same time that might not be sufficient to power a SATA disk. So you might have to disconnect a SATA drive to use FEL mode.
</p>
<h2> <span class="mw-headline" id="Current_drawbacks"> Current drawbacks </span></h2>
<p>as of June 2015
</p>
<ul><li> lousy SATA-write throughput
</li><li> low Ethernet throughput
</li><li> power supply, connector,
</li><li> enclosures force thermal issues
</li><li> housing proposal a la Lamobo FB posting, stand upright, Acrylglas.
</li></ul>
<p>Some details in the text below:
</p>
<h3> <span class="mw-headline" id="Powering_the_board"> Powering the board </span></h3>
<p>The Lamobo R1 powers the SATA disk through the AXP209 PMU unlike most other SATA capable Banana Pi variants (a reverse engineered power scheme is available: <a href="/File:BPi-R1-power-scheme.pdf" title="File:BPi-R1-power-scheme.pdf">File:BPi-R1-power-scheme.pdf</a> and in early 2016 sinoVoip even managed to publish their <a href="#See_also">schematics</a>). Therefore the whole board consumption in A can be read out using I2C/sysfs (1st example for use with 3.4 kernel, 2nd for <a class="external text" href="https://github.com/igorpecovnik/lib/blob/master/patch/kernel/sunxi-dev/axp20x-sysfs-interface.patch">patched</a> mainline kernel):
</p>
<pre>awk '{printf (&quot;%0.2f&quot;,$1/1000000); }' &lt;/sys/devices/platform/sunxi-i2c.0/i2c-0/0-0034/axp20-supplyer.28/power_supply/ac/current_now
awk '{printf (&quot;%0.2f&quot;,$1/1000000); }' &lt;/sys/power/axp_pmu/ac/amperage</pre>
<p>Since powering the board through the Micro-USB power-in connector is often somewhat unreliable (due to voltage drops between PSU and board and a faulty power design of the board) which can lead to all sorts of strange symptoms a different way to power the board is to use the LiPo Battery connector next to the J12/J13 expansion headers. The <a href="/AXP209" title="AXP209">AXP209's</a> charger will disable itself when the voltage on this connector exceeds 4.2V so you can inject here up to 6.5V and exceed the 5V/1.8A limitation of the Micro-USB port.
If you power the board this way consumption in A can be read out using (1st example for use with 3.4 kernel, 2nd for <a class="external text" href="https://github.com/igorpecovnik/lib/blob/master/patch/kernel/sunxi-dev/axp20x-sysfs-interface.patch">patched</a> mainline kernel):
</p>
<pre>awk '{printf (&quot;%0.2f&quot;,$1/1000000); }' &lt;/sys/devices/platform/sunxi-i2c.0/i2c-0/0-0034/axp20-supplyer.28/power_supply/battery/current_now
awk '{printf (&quot;%0.2f&quot;,$1/1000000); }' &lt;/sys/power/axp_pmu/battery/amperage</pre>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="/File:Lamobo_R1_powered_through_LiPo_Connector_cables_corrected.jpg" class="image"><img alt="" src="/images/thumb/7/7d/Lamobo_R1_powered_through_LiPo_Connector_cables_corrected.jpg/180px-Lamobo_R1_powered_through_LiPo_Connector_cables_corrected.jpg" width="180" height="135" class="thumbimage"/></a> <div class="thumbcaption"><div class="magnify"><a href="/File:Lamobo_R1_powered_through_LiPo_Connector_cables_corrected.jpg" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt=""/></a></div>connection</div></div></div>
<p>Polarity of the JST XH header, 5V inwards, GND near the edge – in black. <br/>
housing: JST, XHP-2, 2,5mm, 3A <br/>
crimp: JST, BXH-001T-P0.6 <br/>
</p>
<h3> <span class="mw-headline" id="Network_performance"> Network performance </span></h3>
<p>Some of the available OS images for the Lamobo R1 suffer from missing CONFIG_GMAC_TX_DELAY adjustments in u-boot (4 seems to be the best value). This results in bad performance when network packets are transferred between A20 SoC and the outside. Even with correctly set GMAC TX delay settings the network throughput is bad compared to the combination GMAC+RTL8211E (with optimised TCP/IP stack tuning noone achieved more than 370/460 Mbits/sec TX/RX using iperf with 100% CPU utilisation -- maybe due to problems with the b53 driver used?).
</p>
<h3> <span class="mw-headline" id="Available_enclosures_and_thermal_issues"> Available enclosures and thermal issues </span></h3>
<p>When Wi-Fi and a SATA disk is used the temperature of the <a href="/AXP209" title="AXP209">AXP209</a> PMU will increase even more compared to other Banana Pi variants. The BCM53125 switch IC that is also on the bottom side of the PCB gets hot as well. Since a SATA disk on the top side of the PCB will be directly above the BCM53125 operating the board horizontally is no good idea. Especially when an enclosure is used that doesn't provide any airflow around AXP209/BCM53125. An example for an enclosure with good thermal design (vertical orientation and use of convection -- unfortunately only available in Taiwan) can be found in the gallery below.
</p>
<h3> <span class="mw-headline" id="Security_Implications"> Security Implications </span></h3>
<p>On the Lamobo R1 the BCM53125 (a simple switch IC that features two RGMII GbE host ports and 5 GbE PHYs and can be configured through MDIO to separate traffic through VLANs) interconnects by default all 5 Ethernet ports and the A20 SoC. This means we can not speak about a true WAN port and LAN ports since all the ports are connected at network layer 2 by default. Since the A20 SoC features only one single RGMII interface no other mode of operation is possible.
</p><p>This might raise serious security risks since while the device boots or when it is in bricked state or booted without SD card or when VLAN configuration hasn't been setup correctly or a simple bug exists in the b53 driver then the BCM53125 always acts as a primitive layer 2 switch forwarding Ethernet frames between <b>all</b> external Ethernet ports (not differentiating between the so called <i>WAN port</i> and the 4 <i>LAN ports</i>). This is nothing one would expect from a device advertised as routerboard.
</p><p>If one tries to use the R1 as a (NAT) router without a separate firewall between WAN and the R1 then it depends largely on the ISP's infrastructure whether this is not that good or an absolute no-go from a security point of view since all sorts of attacks against devices behind the so called <i>LAN ports</i> can be triggered from behind the <i>WAN port</i>. In case you're not sure what that means you should simply treat the <i>WAN port</i> as another <i>LAN port</i> and use a separate USB to Ethernet adapter to be connected to WAN. Only in this mode the R1 might reliably work as a router.
</p>
<h2> <span class="mw-headline" id="GPIO_header"> GPIO header </span></h2>
<p>The Lamobo R1 uses the very same 26 pin GPIO connector with identical pin mappings like the original Banana Pi. In case you plan to use Add-on boards be aware that due to the orientation of the connector Add-ons will project over the board in the opposite direction than intended. See the gallery below for an example.
</p>
<h2> <span class="mw-headline" id="Locating_the_UART"> Locating the UART </span></h2>
<p>Connect your <a href="/UART" title="UART">UART</a> adapter here:
</p>
<ul><li> UART0-RX: J13-P01
</li><li> UART0-TX: J13-P02
</li><li> GND: J12-P08
</li></ul>
<h1> <span class="mw-headline" id="Pictures"> Pictures </span></h1>
<ul class="gallery">
<li class="gallerybox" style="width: 155px"><div style="width: 155px">
<div class="thumb" style="width: 150px;"><div style="margin:30px auto;"><a href="/File:BPi-R1-top.jpg" class="image"><img alt="BPi-R1-top.jpg" src="/images/thumb/2/20/BPi-R1-top.jpg/120px-BPi-R1-top.jpg" width="120" height="90"/></a></div></div>
<div class="gallerytext">
</div>
</div></li>
<li class="gallerybox" style="width: 155px"><div style="width: 155px">
<div class="thumb" style="width: 150px;"><div style="margin:31.5px auto;"><a href="/File:BPi-R1-bottom.jpg" class="image"><img alt="BPi-R1-bottom.jpg" src="/images/thumb/e/e2/BPi-R1-bottom.jpg/120px-BPi-R1-bottom.jpg" width="120" height="87"/></a></div></div>
<div class="gallerytext">
</div>
</div></li>
<li class="gallerybox" style="width: 155px"><div style="width: 155px">
<div class="thumb" style="width: 150px;"><div style="margin:66.5px auto;"><a href="/File:BPi-R1-connectors.jpg" class="image"><img alt="BPi-R1-connectors.jpg" src="/images/thumb/1/1c/BPi-R1-connectors.jpg/120px-BPi-R1-connectors.jpg" width="120" height="17"/></a></div></div>
<div class="gallerytext">
</div>
</div></li>
<li class="gallerybox" style="width: 155px"><div style="width: 155px">
<div class="thumb" style="width: 150px;"><div style="margin:15px auto;"><a href="/File:Lamobo_Vertical_Acrylic_Case.jpg" class="image"><img alt="Lamobo Vertical Acrylic Case.jpg" src="/images/thumb/3/33/Lamobo_Vertical_Acrylic_Case.jpg/68px-Lamobo_Vertical_Acrylic_Case.jpg" width="68" height="120"/></a></div></div>
<div class="gallerytext">
</div>
</div></li>
<li class="gallerybox" style="width: 155px"><div style="width: 155px">
<div class="thumb" style="width: 150px;"><div style="margin:30px auto;"><a href="/File:Addon_Board_on_Lamobo_R1_Fixed_Orientation.JPG" class="image"><img alt="Addon Board on Lamobo R1 Fixed Orientation.JPG" src="/images/thumb/e/ef/Addon_Board_on_Lamobo_R1_Fixed_Orientation.JPG/120px-Addon_Board_on_Lamobo_R1_Fixed_Orientation.JPG" width="120" height="90"/></a></div></div>
<div class="gallerytext">
</div>
</div></li>
<li class="gallerybox" style="width: 155px"><div style="width: 155px">
<div class="thumb" style="width: 150px;"><div style="margin:30px auto;"><a href="/File:Lamobo_R1_powered_through_LiPo_Connector_cables_corrected.jpg" class="image"><img alt="Lamobo R1 powered through LiPo Connector cables corrected.jpg" src="/images/thumb/7/7d/Lamobo_R1_powered_through_LiPo_Connector_cables_corrected.jpg/120px-Lamobo_R1_powered_through_LiPo_Connector_cables_corrected.jpg" width="120" height="90"/></a></div></div>
<div class="gallerytext">
</div>
</div></li>
</ul>
<h1> <span class="mw-headline" id="Also_known_as"> Also known as </span></h1>
<ul><li> Banana Pi R1
</li><li> BPi-R1
</li><li> Banana Pi Router
</li></ul>
<h1> <span class="mw-headline" id="See_also"> See also </span></h1>
<ul><li><a rel="nofollow" class="external text" href="http://www.bananapi.com/index.php/forum/bpi-r1">Forum at bananapi.com</a>
</li><li><a rel="nofollow" class="external text" href="http://forums.lamobo.org/getting-started-f37.html">Dead Lamobo forum with some documentation links available</a>
</li><li><a rel="nofollow" class="external text" href="https://www.bananian.org/hardware">Bananian -- Debian Wheezy based OS image that also fully supports Lamobo R1</a>
</li><li><a rel="nofollow" class="external text" href="http://armbian.com">Armbian -- Debian Wheezy/Jessie and Ubuntu Trusty based OS images for a variety of sunxi boards with full support for BPi-R1</a>
</li><li>Schematics released on 2016/02/16: <a href="/File:Banan_pi_BPI-R1_MP_Schematic-SD_V3-20140922.pdf" title="File:Banan pi BPI-R1 MP Schematic-SD V3-20140922.pdf">File:Banan pi BPI-R1 MP Schematic-SD V3-20140922.pdf</a>
</li></ul>
<h2> <span class="mw-headline" id="Manufacturer_images"> Manufacturer images </span></h2>
<ul><li><a rel="nofollow" class="external text" href="http://www.bananapi.com/index.php/download?layout=edit&amp;id=65">Android and openwrt images</a>
</li><li><a class="external text" href="https://github.com/Lamobo/Lamobo-R1-OpenWrt">'Official' OpenWRT sources for R1</a>
</li></ul>
 
 
 
</div>  
 
<div class="printfooter">
Retrieved from "<a href="http://linux-sunxi.org/index.php?title=Lamobo_R1&amp;oldid=17736">http://linux-sunxi.org/index.php?title=Lamobo_R1&amp;oldid=17736</a>" </div>
 
 
<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="/Category:NDH_TODO" title="Category:NDH TODO">NDH TODO</a></li><li><a href="/Category:Devices" title="Category:Devices">Devices</a></li><li><a href="/Category:A20_Boards" title="Category:A20 Boards">A20 Boards</a></li><li><a href="/Category:Devices_with_HDMI_port" title="Category:Devices with HDMI port">Devices with HDMI port</a></li><li><a href="/Category:Devices_with_SATA_port" title="Category:Devices with SATA port">Devices with SATA port</a></li><li><a href="/Category:Devices_with_Ethernet_port" title="Category:Devices with Ethernet port">Devices with Ethernet port</a></li><li><a href="/Category:Mainline_U-Boot" title="Category:Mainline U-Boot">Mainline U-Boot</a></li><li><a href="/Category:Mainline_Kernel" title="Category:Mainline Kernel">Mainline Kernel</a></li></ul></div></div>  
<div class="visualClear"></div>
 
 
</div>
 
</div>
 
 
<div id="mw-head" class="noprint">
 
<div id="p-personal" class="">
<h5>Personal tools</h5>
<ul>
<li id="pt-anonuserpage"><a href="/User:108.162.237.232" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">108.162.237.232</a></li>
<li id="pt-anontalk"><a href="/User_talk:108.162.237.232" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
<li id="pt-createaccount"><a href="/index.php?title=Special:UserLogin&amp;returnto=Lamobo+R1&amp;type=signup">Create account</a></li>
<li id="pt-anonlogin"><a href="/index.php?title=Special:UserLogin&amp;returnto=Lamobo+R1" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
</ul>
</div>
 
<div id="left-navigation">
 
<div id="p-namespaces" class="vectorTabs">
<h5>Namespaces</h5>
<ul>
<li id="ca-nstab-main" class="selected"><span><a href="/Lamobo_R1" title="View the content page [c]" accesskey="c">Page</a></span></li>
<li id="ca-talk"><span><a href="/Talk:Lamobo_R1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
</ul>
</div>
 
 
<div id="p-variants" class="vectorMenu emptyPortlet">
<h4>
</h4>
<h5><span>Variants</span><a href="#"></a></h5>
<div class="menu">
<ul>
</ul>
</div>
</div>
 
</div>
<div id="right-navigation">
 
<div id="p-views" class="vectorTabs">
<h5>Views</h5>
<ul>
<li id="ca-view" class="selected"><span><a href="/Lamobo_R1">Read</a></span></li>
<li id="ca-viewsource"><span><a href="/index.php?title=Lamobo_R1&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
<li id="ca-history" class="collapsible"><span><a href="/index.php?title=Lamobo_R1&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
</ul>
</div>
 
 
<div id="p-cactions" class="vectorMenu emptyPortlet">
<h5><span>Actions</span><a href="#"></a></h5>
<div class="menu">
<ul>
</ul>
</div>
</div>
 
 
<div id="p-search">
<h5><label for="searchInput">Search</label></h5>
<form action="/index.php" id="searchform">
<div>
<input type="search" name="search" title="Search linux-sunxi.org [f]" accesskey="f" id="searchInput"/> <input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton"/> <input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/> <input type='hidden' name="title" value="Special:Search"/>
</div>
</form>
</div>
 
</div>
</div>
 
 
<div id="mw-panel" class="noprint">
 
<div id="p-logo"><a style="background-image: url(//linux-sunxi.org/images/c/c5/Logo-155x155.png);" href="/Main_Page" title="Visit the main page"></a></div>
 
 
<div class="portal" id='p-navigation'>
<h5>Navigation</h5>
<div class="body">
<ul>
<li id="n-mainpage-description"><a href="/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
<li id="n-portal"><a href="/sunxi:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
<li id="n-recentchanges"><a href="/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
<li id="n-randompage"><a href="/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
<li id="n-help"><a href="/Help:Contents" title="The place to find out">Help</a></li>
</ul>
</div>
</div>
 
 
 
 
<div class="portal" id='p-tb'>
<h5>Tools</h5>
<div class="body">
<ul>
<li id="t-whatlinkshere"><a href="/Special:WhatLinksHere/Lamobo_R1" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
<li id="t-recentchangeslinked"><a href="/Special:RecentChangesLinked/Lamobo_R1" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a href="/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
<li id="t-print"><a href="/index.php?title=Lamobo_R1&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
<li id="t-permalink"><a href="/index.php?title=Lamobo_R1&amp;oldid=17736" title="Permanent link to this revision of the page">Permanent link</a></li>
</ul>
</div>
</div>
 
 
 
</div>
 
 
<div id="footer">
<ul id="footer-info">
<li id="footer-info-lastmod"> This page was last modified on 20 June 2016, at 15:09.</li>
<li id="footer-info-viewcount">This page has been accessed 26,852 times.</li>
<li id="footer-info-copyright">Content is available under <a class="external" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a> unless otherwise noted.</li>
</ul>
<ul id="footer-places">
<li id="footer-places-privacy"><a href="/sunxi:Privacy_policy" title="sunxi:Privacy policy">Privacy policy</a></li>
<li id="footer-places-about"><a href="/sunxi:About" title="sunxi:About">About linux-sunxi.org</a></li>
<li id="footer-places-disclaimer"><a href="/sunxi:General_disclaimer" title="sunxi:General disclaimer">Disclaimers</a></li>
</ul>
<ul id="footer-icons" class="noprint">
<li id="footer-copyrightico">
<a href="http://creativecommons.org/licenses/by/3.0/"><img src="/skins/common/images/cc-by.png" alt="Creative Commons Attribution" width="88" height="31"/></a>
</li>
<li id="footer-poweredbyico">
<a href="//www.mediawiki.org/"><img src="/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31"/></a>
</li>
</ul>
<div style="clear:both"></div>
</div>
 
<script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script src="//linux-sunxi.org/load.php?debug=false&amp;lang=en&amp;modules=skins.vector&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest","ext.cite"], null, true);
}</script>
<link rel="stylesheet" type="text/css" href="/extensions/SyntaxHighlighter/styles/shCore.css"></link>
<link rel="stylesheet" type="text/css" href="/extensions/SyntaxHighlighter/styles/shThemeDefault.css"></link>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/XRegExp.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shCore.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shBrushBash.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shBrushDiff.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shBrushIni.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shBrushXml.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shBrushJava.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shBrushCpp.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shBrushPlain.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shBrushPhp.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shBrushPython.js"></script>
<script type="text/javascript">SyntaxHighlighter.all();</script>
<script src="//linux-sunxi.org/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-33223122-1");
pageTracker._trackPageview();
</script> 
</body>
</html>
